import e from"lightvue/utils/DomHandler";var t={props:{value:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ariaLabelledBy:{type:String,default:null},sliderColor:{type:String,default:"#38b2ac"}},dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,mouseupListener:null,beforeDestroy(){this.unbindDragListeners()},methods:{updateDomData(){let t=this.$refs.container.getBoundingClientRect();this.initX=t.left+e.getWindowScrollLeft(),this.initY=t.top+e.getWindowScrollTop(),this.barWidth=this.$refs.container.offsetWidth,this.barHeight=this.$refs.container.offsetHeight},setValueFromHandlePosition(e,t){let i=(this.max-this.min)*(t/100)+this.min;this.range?this.step?this.handleStepChange(e,i,this.value[this.handleIndex]):this.updateModel(e,i):this.step?this.handleStepChange(e,i,this.value):this.updateModel(e,i)},onSlide(e){let t=this.horizontal?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight;this.setValueFromHandlePosition(e,t)},handleStepChange(e,t,i){let n=t-i,s=i;n<0?s=i+Math.ceil(t/this.step-i/this.step)*this.step:n>0&&(s=i+Math.floor(t/this.step-i/this.step)*this.step),this.updateModel(e,s)},updateModel(e,t){let i,n=t;this.range?(0==this.handleIndex?n<this.min?n=this.min:n>=this.value[1]&&(n=this.value[1]):n>this.max?n=this.max:n<=this.value[0]&&(n=this.value[0]),i=[...this.value],i[this.handleIndex]=Math.floor(n)):(n<this.min?n=this.min:n>this.max&&(n=this.max),i=Math.floor(n)),this.$emit("input",i),this.$emit("change",i)},onBarClick(t){this.disabled||e.hasClass(t.target,"lv-slider-handle")||(this.updateDomData(),this.onSlide(t))},onHandleMouseDown(t,i){this.disabled||(e.addClass(this.$el,"lv-slider-sliding"),this.dragging=!0,this.updateDomData(),this.handleIndex=i,this.bindDragListeners(),t.preventDefault())},onHandleKeyDown(e,t){switch(this.handleIndex=t,e.which){case 40:this.vertical&&(this.decrementValue(e,t),e.preventDefault());break;case 38:this.vertical&&(this.incrementValue(e,t),e.preventDefault());break;case 37:this.horizontal&&(this.decrementValue(e,t),e.preventDefault());break;case 39:this.horizontal&&(this.incrementValue(e,t),e.preventDefault())}},decrementValue(e,t){let i;i=this.range?this.step?this.value[t]-this.step:this.value[t]-1:this.step?this.value-this.step:this.value-1,this.updateModel(e,i),e.preventDefault()},incrementValue(e,t){let i;i=this.range?this.step?this.value[t]+this.step:this.value[t]+1:this.step?this.value+this.step:this.value+1,this.updateModel(e,i),e.preventDefault()},bindDragListeners(){this.dragListener||(this.dragListener=e=>{this.dragging&&this.onSlide(e)},document.addEventListener("mousemove",this.dragListener)),this.mouseupListener||(this.mouseupListener=t=>{this.dragging&&(this.dragging=!1,e.removeClass(this.$el,"lv-slider-sliding"),this.$emit("slideend",{originalEvent:t,values:this.value}))},document.addEventListener("mouseup",this.mouseupListener))},unbindDragListeners(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.mouseupListener&&(document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null)}},computed:{containerClass(){return["lv-slider lv-component",{"lv-disabled":this.disabled,"lv-slider-horizontal":"horizontal"===this.orientation,"lv-slider-vertical":"vertical"===this.orientation}]},horizontal(){return"horizontal"===this.orientation},vertical(){return"vertical"===this.orientation},rangeStyle(){return this.range?this.horizontal?{left:this.rangeStartPosition+"%",width:this.rangeEndPosition-this.rangeStartPosition+"%",background:this.sliderColor}:{bottom:this.rangeStartPosition+"%",height:this.rangeEndPosition-this.rangeStartHandlePosition+"%",background:this.sliderColor}:this.horizontal?{width:this.handlePosition+"%",background:this.sliderColor}:{height:this.handlePosition+"%",background:this.sliderColor}},handleStyle(){return this.horizontal?{left:this.handlePosition+"%",borderColor:this.sliderColor}:{bottom:this.handlePosition+"%",borderColor:this.sliderColor}},handlePosition(){return 0===this.value||this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)},rangeStartPosition(){return this.value?100*(this.value[0]<this.min?0:this.value[0]-this.min)/(this.max-this.min):0},rangeEndPosition(){return this.value?100*(this.value[1]>this.max?100:this.value[1]-this.min)/(this.max-this.min):0},rangeStartHandleStyle(){return this.horizontal?{left:this.rangeStartPosition+"%",borderColor:this.sliderColor}:{bottom:this.rangeStartPosition+"%",borderColor:this.sliderColor}},rangeEndHandleStyle(){return this.horizontal?{left:this.rangeEndPosition+"%",borderColor:this.sliderColor}:{bottom:this.rangeEndPosition+"%",borderColor:this.sliderColor}}}};function i(e,t,i,n,s,l,a,r,o,d){"boolean"!=typeof a&&(o=r,r=a,a=!1);const h="function"==typeof i?i.options:i;let u;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),n&&(h._scopeId=n),l?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},h._ssrRegister=u):t&&(u=a?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(h.functional){const e=h.render;h.render=function(t,i){return u.call(i),e(t,i)}}else{const e=h.beforeCreate;h.beforeCreate=e?[].concat(e,u):[u]}return i}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function s(e){return(e,t)=>function(e,t){const i=n?t.media||"default":e,s=a[i]||(a[i]={ids:new Set,styles:[]});if(!s.ids.has(e)){s.ids.add(e);let i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),s.element||(s.element=document.createElement("style"),s.element.type="text/css",t.media&&s.element.setAttribute("media",t.media),void 0===l&&(l=document.head||document.getElementsByTagName("head")[0]),l.appendChild(s.element)),"styleSheet"in s.element)s.styles.push(i),s.element.styleSheet.cssText=s.styles.filter(Boolean).join("\n");else{const e=s.ids.size-1,t=document.createTextNode(i),n=s.element.childNodes;n[e]&&s.element.removeChild(n[e]),n.length?s.element.insertBefore(t,n[e]):s.element.appendChild(t)}}}(e,t)}let l;const a={};const r=i({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",class:e.containerClass,on:{click:e.onBarClick}},[i("span",{staticClass:"lv-slider-range",style:e.rangeStyle}),e._v(" "),e.range?e._e():i("span",{staticClass:"lv-slider-handle",style:e.handleStyle,attrs:{tabindex:"0",role:"slider","aria-valuemin":e.min,"aria-valuenow":"value","aria-valuemax":"max","aria-labelledby":e.ariaLabelledBy},on:{mousedown:function(t){return e.onHandleMouseDown(t)},keydown:function(t){return e.onHandleKeyDown(t)}}}),e._v(" "),e.range?i("span",{staticClass:"lv-slider-handle",style:e.rangeStartHandleStyle,attrs:{tabindex:"0",role:"slider","aria-valuemin":e.min,"aria-valuenow":"value ? value[0] : null","aria-valuemax":"max","aria-labelledby":e.ariaLabelledBy},on:{mousedown:function(t){return e.onHandleMouseDown(t,0)},keydown:function(t){return e.onHandleKeyDown(t,0)}}}):e._e(),e._v(" "),e.range?i("span",{staticClass:"lv-slider-handle",style:e.rangeEndHandleStyle,attrs:{tabindex:"0",role:"slider","aria-valuemin":e.min,"aria-valuenow":"value = value[1] : null","aria-valuemax":"max","aria-labelledby":e.ariaLabelledBy},on:{mousedown:function(t){return e.onHandleMouseDown(t,1)},keydown:function(t){return e.onHandleKeyDown(t,1)}}}):e._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-cd79e0da_0",{source:".lv-slider{position:relative;background:#dee2e6;border:0;border-radius:3px}.lv-slider .lv-slider-handle{cursor:grab;touch-action:none}.lv-slider .lv-slider-handle,.lv-slider-range{position:absolute;display:block}.lv-slider-horizontal .lv-slider-range{top:0;left:0;height:100%}.lv-slider-horizontal .lv-slider-handle{top:50%}.lv-slider-vertical{height:100px}.lv-slider-vertical .lv-slider-handle{left:50%}.lv-slider-vertical .lv-slider-range{bottom:0;left:0;width:100%}.lv-slider.lv-slider-horizontal{height:.286rem}.lv-slider.lv-slider-horizontal .lv-slider-handle{margin-top:-.5715rem;margin-left:-.5715rem}.lv-slider.lv-slider-vertical{width:.286rem}.lv-slider.lv-slider-vertical .lv-slider-handle{margin-left:-.5715rem;margin-bottom:-.5715rem}.lv-slider .lv-slider-handle{transform:scale(1);height:1.143rem;width:1.143rem;background:#d7efed;border:2px solid;border-radius:50%;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.lv-slider .lv-slider-handle:focus{outline:0;outline-offset:0;box-shadow:0 0 0 .2rem #c7c7c7}.lv-slider:not(.lv-disabled) .lv-slider-handle:hover{transition:all .3s;transform:scale(1.2)}.lv-component{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-size:1rem;font-weight:400}.lv-component:disabled,.lv-disabled{opacity:.6}",map:void 0,media:void 0})}),t,undefined,false,undefined,!1,s,void 0,void 0);export default r;
