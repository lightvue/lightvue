"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("lightvue/utils/DomHandler"));function i(e,t,i,s,l,n,r,a,o,d){"boolean"!=typeof r&&(o=a,a=r,r=!1);const h="function"==typeof i?i.options:i;let u;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,l&&(h.functional=!0)),s&&(h._scopeId=s),n?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},h._ssrRegister=u):t&&(u=r?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(h.functional){const e=h.render;h.render=function(t,i){return u.call(i),e(t,i)}}else{const e=h.beforeCreate;h.beforeCreate=e?[].concat(e,u):[u]}return i}function s(e){return e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),e?("styles"in e||(e._styles=e._styles||{},Object.defineProperty(e,"styles",{enumerable:!0,get:()=>e._renderStyles(e._styles)}),e._renderStyles=e._renderStyles||l),(t,i)=>function(e,t,i){const s="production"===process.env.NODE_ENV?t.media||"default":e,l=i._styles[s]||(i._styles[s]={ids:[],css:""});if(!l.ids.includes(e)){l.media=t.media,l.ids.push(e);let i=t.source;"production"!==process.env.NODE_ENV&&t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+Buffer.from(unescape(encodeURIComponent(JSON.stringify(t.map)))).toString("base64")+" */"),l.css+=i+"\n"}}(t,i,e)):()=>{}}function l(e){let t="";for(const i in e){const s=e[i];t+='<style data-vue-ssr-id="'+Array.from(s.ids).join(" ")+'"'+(s.media?' media="'+s.media+'"':"")+">"+s.css+"</style>"}return t}const n=i({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",class:e.containerClass,on:{click:e.onBarClick}},[e._ssrNode('<span class="lv-slider-range"'+e._ssrStyle(null,e.rangeStyle,null)+"></span> "+(e.range?"\x3c!----\x3e":'<span tabindex="0" role="slider"'+e._ssrAttr("aria-valuemin",e.min)+' aria-valuenow="value" aria-valuemax="max"'+e._ssrAttr("aria-labelledby",e.ariaLabelledBy)+' class="lv-slider-handle"'+e._ssrStyle(null,e.handleStyle,null)+"></span>")+" "+(e.range?'<span tabindex="0" role="slider"'+e._ssrAttr("aria-valuemin",e.min)+' aria-valuenow="value ? value[0] : null" aria-valuemax="max"'+e._ssrAttr("aria-labelledby",e.ariaLabelledBy)+' class="lv-slider-handle"'+e._ssrStyle(null,e.rangeStartHandleStyle,null)+"></span>":"\x3c!----\x3e")+" "+(e.range?'<span tabindex="0" role="slider"'+e._ssrAttr("aria-valuemin",e.min)+' aria-valuenow="value = value[1] : null" aria-valuemax="max"'+e._ssrAttr("aria-labelledby",e.ariaLabelledBy)+' class="lv-slider-handle"'+e._ssrStyle(null,e.rangeEndHandleStyle,null)+"></span>":"\x3c!----\x3e"))])},staticRenderFns:[]},(function(e){e&&e("data-v-cd79e0da_0",{source:".lv-slider{position:relative;background:#dee2e6;border:0;border-radius:3px}.lv-slider .lv-slider-handle{cursor:grab;touch-action:none}.lv-slider .lv-slider-handle,.lv-slider-range{position:absolute;display:block}.lv-slider-horizontal .lv-slider-range{top:0;left:0;height:100%}.lv-slider-horizontal .lv-slider-handle{top:50%}.lv-slider-vertical{height:100px}.lv-slider-vertical .lv-slider-handle{left:50%}.lv-slider-vertical .lv-slider-range{bottom:0;left:0;width:100%}.lv-slider.lv-slider-horizontal{height:.286rem}.lv-slider.lv-slider-horizontal .lv-slider-handle{margin-top:-.5715rem;margin-left:-.5715rem}.lv-slider.lv-slider-vertical{width:.286rem}.lv-slider.lv-slider-vertical .lv-slider-handle{margin-left:-.5715rem;margin-bottom:-.5715rem}.lv-slider .lv-slider-handle{transform:scale(1);height:1.143rem;width:1.143rem;background:#d7efed;border:2px solid;border-radius:50%;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.lv-slider .lv-slider-handle:focus{outline:0;outline-offset:0;box-shadow:0 0 0 .2rem #c7c7c7}.lv-slider:not(.lv-disabled) .lv-slider-handle:hover{transition:all .3s;transform:scale(1.2)}.lv-component{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-size:1rem;font-weight:400}.lv-component:disabled,.lv-disabled{opacity:.6}",map:void 0,media:void 0})}),{props:{value:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ariaLabelledBy:{type:String,default:null},sliderColor:{type:String,default:"#38b2ac"}},dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,mouseupListener:null,beforeDestroy(){this.unbindDragListeners()},methods:{updateDomData(){let e=this.$refs.container.getBoundingClientRect();this.initX=e.left+t.default.getWindowScrollLeft(),this.initY=e.top+t.default.getWindowScrollTop(),this.barWidth=this.$refs.container.offsetWidth,this.barHeight=this.$refs.container.offsetHeight},setValueFromHandlePosition(e,t){let i=(this.max-this.min)*(t/100)+this.min;this.range?this.step?this.handleStepChange(e,i,this.value[this.handleIndex]):this.updateModel(e,i):this.step?this.handleStepChange(e,i,this.value):this.updateModel(e,i)},onSlide(e){let t=this.horizontal?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight;this.setValueFromHandlePosition(e,t)},handleStepChange(e,t,i){let s=t-i,l=i;s<0?l=i+Math.ceil(t/this.step-i/this.step)*this.step:s>0&&(l=i+Math.floor(t/this.step-i/this.step)*this.step),this.updateModel(e,l)},updateModel(e,t){let i,s=t;this.range?(0==this.handleIndex?s<this.min?s=this.min:s>=this.value[1]&&(s=this.value[1]):s>this.max?s=this.max:s<=this.value[0]&&(s=this.value[0]),i=[...this.value],i[this.handleIndex]=Math.floor(s)):(s<this.min?s=this.min:s>this.max&&(s=this.max),i=Math.floor(s)),this.$emit("input",i),this.$emit("change",i)},onBarClick(e){this.disabled||t.default.hasClass(e.target,"lv-slider-handle")||(this.updateDomData(),this.onSlide(e))},onHandleMouseDown(e,i){this.disabled||(t.default.addClass(this.$el,"lv-slider-sliding"),this.dragging=!0,this.updateDomData(),this.handleIndex=i,this.bindDragListeners(),e.preventDefault())},onHandleKeyDown(e,t){switch(this.handleIndex=t,e.which){case 40:this.vertical&&(this.decrementValue(e,t),e.preventDefault());break;case 38:this.vertical&&(this.incrementValue(e,t),e.preventDefault());break;case 37:this.horizontal&&(this.decrementValue(e,t),e.preventDefault());break;case 39:this.horizontal&&(this.incrementValue(e,t),e.preventDefault())}},decrementValue(e,t){let i;i=this.range?this.step?this.value[t]-this.step:this.value[t]-1:this.step?this.value-this.step:this.value-1,this.updateModel(e,i),e.preventDefault()},incrementValue(e,t){let i;i=this.range?this.step?this.value[t]+this.step:this.value[t]+1:this.step?this.value+this.step:this.value+1,this.updateModel(e,i),e.preventDefault()},bindDragListeners(){this.dragListener||(this.dragListener=e=>{this.dragging&&this.onSlide(e)},document.addEventListener("mousemove",this.dragListener)),this.mouseupListener||(this.mouseupListener=e=>{this.dragging&&(this.dragging=!1,t.default.removeClass(this.$el,"lv-slider-sliding"),this.$emit("slideend",{originalEvent:e,values:this.value}))},document.addEventListener("mouseup",this.mouseupListener))},unbindDragListeners(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.mouseupListener&&(document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null)}},computed:{containerClass(){return["lv-slider lv-component",{"lv-disabled":this.disabled,"lv-slider-horizontal":"horizontal"===this.orientation,"lv-slider-vertical":"vertical"===this.orientation}]},horizontal(){return"horizontal"===this.orientation},vertical(){return"vertical"===this.orientation},rangeStyle(){return this.range?this.horizontal?{left:this.rangeStartPosition+"%",width:this.rangeEndPosition-this.rangeStartPosition+"%",background:this.sliderColor}:{bottom:this.rangeStartPosition+"%",height:this.rangeEndPosition-this.rangeStartHandlePosition+"%",background:this.sliderColor}:this.horizontal?{width:this.handlePosition+"%",background:this.sliderColor}:{height:this.handlePosition+"%",background:this.sliderColor}},handleStyle(){return this.horizontal?{left:this.handlePosition+"%",borderColor:this.sliderColor}:{bottom:this.handlePosition+"%",borderColor:this.sliderColor}},handlePosition(){return 0===this.value||this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)},rangeStartPosition(){return this.value?100*(this.value[0]<this.min?0:this.value[0]-this.min)/(this.max-this.min):0},rangeEndPosition(){return this.value?100*(this.value[1]>this.max?100:this.value[1]-this.min)/(this.max-this.min):0},rangeStartHandleStyle(){return this.horizontal?{left:this.rangeStartPosition+"%",borderColor:this.sliderColor}:{bottom:this.rangeStartPosition+"%",borderColor:this.sliderColor}},rangeEndHandleStyle(){return this.horizontal?{left:this.rangeEndPosition+"%",borderColor:this.sliderColor}:{bottom:this.rangeEndPosition+"%",borderColor:this.sliderColor}}}},undefined,false,"data-v-cd79e0da",!1,void 0,s,void 0);module.exports=n;
