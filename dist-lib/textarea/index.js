"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function t(e,t,s,a,i,r,n,l,o,d){"boolean"!=typeof n&&(o=l,l=n,n=!1);const u="function"==typeof s?s.options:s;let c;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),a&&(u._scopeId=a),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=c):t&&(c=n?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),c)if(u.functional){const e=u.render;u.render=function(t,s){return c.call(s),e(t,s)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,c):[c]}return s}function s(e){return e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),e?("styles"in e||(e._styles=e._styles||{},Object.defineProperty(e,"styles",{enumerable:!0,get:()=>e._renderStyles(e._styles)}),e._renderStyles=e._renderStyles||a),(t,s)=>function(e,t,s){const a="production"===process.env.NODE_ENV?t.media||"default":e,i=s._styles[a]||(s._styles[a]={ids:[],css:""});if(!i.ids.includes(e)){i.media=t.media,i.ids.push(e);let s=t.source;"production"!==process.env.NODE_ENV&&t.map&&(s+="\n/*# sourceURL="+t.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+Buffer.from(unescape(encodeURIComponent(JSON.stringify(t.map)))).toString("base64")+" */"),i.css+=s+"\n"}}(t,s,e)):()=>{}}function a(e){let t="";for(const s in e){const a=e[s];t+='<style data-vue-ssr-id="'+Array.from(a.ids).join(" ")+'"'+(a.media?' media="'+a.media+'"':"")+">"+a.css+"</style>"}return t}const i=t({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("lv-input",e._b({ref:"mainInput",class:{"--not-empty":e.filled},attrs:{type:"text",editable:!1}},"lv-input",e.$attrs,!1),[s("textarea",e._b({ref:"textarea",staticClass:"lv-textarea",class:{"--resize-vertical":"vertical"===e.resize},attrs:{maxlength:e.maxLength},domProps:{value:e.modelValue},on:{input:e.updateValue}},"textarea",e.$attrs,!1))]),e._ssrNode(" "+(e.showLimit&&e.maxLength?'<div class="lv-textarea__limits">'+e._ssrEscape(e._s(e.modelValue?e.modelValue.length:0)+" / "+e._s(e.maxLength))+"</div>":"\x3c!----\x3e"))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-1a4ce809_0",{source:".lv-textarea{border:none;width:100%;background:0 0;outline:0;resize:none}.lv-textarea.--resize-vertical{resize:vertical}.lv-textarea__limits{display:flex;justify-content:flex-end;margin-top:5px}",map:void 0,media:void 0})}),{name:"LvTextarea",components:{LvInput:e(require("lightvue/input")).default},data:()=>({localValue:""}),props:{value:{type:String,default:""},maxLength:{type:Number},showLimit:{type:Boolean,default:!1},autoResize:{type:Boolean,default:!1},resize:{type:String,default:"none"}},cachedScrollHeight:null,mounted(){this.$refs.textarea.offsetParent&&this.autoResize&&this.resizeTextarea()},methods:{resizeTextarea(){this.cachedScrollHeight||(this.cachedScrollHeight=this.$refs.textarea.scrollHeight,this.$refs.textarea.style.overflow="hidden"),this.cachedScrollHeight!==this.$refs.textarea.scrollHeight&&(this.$refs.textarea.style.height="",this.$refs.textarea.style.height=this.$refs.textarea.scrollHeight+"px",parseFloat(this.$refs.textarea.style.height)>=parseFloat(this.$refs.textarea.style.maxHeight)?(this.$refs.textarea.style.overflowY="scroll",this.$refs.textarea.style.height=this.$refs.textarea.style.maxHeight):this.$refs.textarea.style.overflow="hidden",this.cachedScrollHeight=this.$refs.textarea.scrollHeight)},updateValue(e){this.autoResize&&this.resizeTextarea(),this.localValue=e.target.value,this.$emit("input-native",e),this.$emit("input",e.target.value),this.$emit("update:modelValue",e.target.value)}},computed:{listeners(){return{...this.$listeners,input:e=>{this.updateValue(e)}}},filled(){return null!=this.modelValue&&this.modelValue.toString().length>0},modelValue(){return this.$attrs.modelValue?this.$attrs.modelValue:this.value?this.value:this.localValue}}},undefined,false,"data-v-1a4ce809",!1,void 0,s,void 0);module.exports=i;
