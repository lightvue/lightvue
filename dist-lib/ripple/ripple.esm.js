import e from"lightvue/utils/DomHandler";function t(t){t.addEventListener("mousedown",l),e.addClass(t,"lv-ripple")}function n(e){let t=document.createElement("span");t.className="lv-ink",e.appendChild(t),t.addEventListener("animationend",o)}function i(e){let t=r(e);t&&(!function(e){e.removeEventListener("mousedown",l)}(e),t.removeEventListener("animationend",o),t.remove())}function l(t){let n=t.currentTarget,i=r(n);if(!i||"none"===getComputedStyle(i,null).display)return;if(e.removeClass(i,"lv-ink-active"),!e.getHeight(i)&&!e.getWidth(i)){let t=Math.max(e.getOuterWidth(n),e.getOuterHeight(n));i.style.height=t+"px",i.style.width=t+"px"}let l=e.getOffset(n),o=t.pageX-l.left+document.body.scrollTop-e.getWidth(i)/2,d=t.pageY-l.top+document.body.scrollLeft-e.getHeight(i)/2;i.style.top=d+"px",i.style.left=o+"px",e.addClass(i,"lv-ink-active")}function o(t){e.removeClass(t.currentTarget,"lv-ink-active")}function r(e){for(let t=0;t<e.children.length;t++)if(-1!==e.children[t].className.indexOf("lv-ink"))return e.children[t];return null}const d={inserted(e,i,l){l.context.$lightvue&&l.context.$lightvue.ripple&&(n(e),t(e))},unbind(e){i(e)},mounted(e,i,l){l.context.$lightvue&&l.context.$lightvue.ripple&&(n(e),t(e))},unmounted(e){i(e)}};export default d;
